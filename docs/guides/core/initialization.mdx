---
title: 初始化
sidebar_position: 1
---

# 初始化

## JadeView_init

初始化 JadeView DLL，启动 GUI 线程和事件循环。

### 函数签名

```c
int JadeView_init(int enable_devtools, const char* log_path, const char* data_directory);
```

### 参数说明

| 参数 | 类型 | 说明 |
|------|------|------|
| `enable_devtools` | int | 是否启用开发者工具，0=禁用，1=启用 |
| `log_path` | const char* | 日志文件路径，NULL 或空字符串表示不输出日志到文件 |
| `data_directory` | const char* | WebContext 数据目录，NULL 或空字符串表示使用默认目录 |

### 返回值说明

| 返回值 | 说明 |
|---------|------|
| `1` | 成功 |
| `0` | 失败 |

### 功能描述

初始化 JadeView DLL，启动 GUI 线程和事件循环。该函数会立即返回，不会等待事件循环准备就绪。

### 使用示例

```c
// 初始化 DLL，启用开发者工具，不输出日志到文件，使用默认数据目录
int result = JadeView_init(1, NULL, NULL);

if (result == 1) {
    printf("DLL 初始化成功\n");
} else {
    printf("DLL 初始化失败\n");
}
```

### 注意事项

1. 此函数会启动一个新的 GUI 线程，所有窗口操作都在该线程中执行
2. 初始化完成后会发送 "app-ready" 事件
3. 在调用其他 API 函数之前，必须先调用此函数
4. 如果初始化失败，后续的 API 调用可能会出现未定义行为
