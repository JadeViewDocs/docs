---
title: 消息循环
sidebar_position: 2
---

# 消息循环

## run_message_loop

运行消息循环，阻塞当前线程，直到收到关闭请求。

### 函数签名

```c
int run_message_loop();
```

### 返回值说明

| 返回值 | 说明 |
|---------|------|
| `1` | 成功退出 |

### 功能描述

运行消息循环，阻塞当前线程，直到收到关闭请求。在 DLL 模式下，宿主通常不需要调用此函数，因为 DLL 内部已经创建了独立的 GUI 线程。

### 使用示例

```c
// 运行消息循环
run_message_loop();
```

### 注意事项

1. 在 DLL 模式下，此函数通常不需要宿主调用
2. 此函数用于阻塞等待，直到 `cleanup_all_windows` 被调用
3. 如果在主线程中调用，会阻塞主线程直到程序退出
