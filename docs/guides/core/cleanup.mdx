---
title: 清理
sidebar_position: 3
---

# 清理

## cleanup_all_windows

清理所有窗口资源并结束事件循环。

### 函数签名

```c
int cleanup_all_windows();
```

### 返回值说明

| 返回值 | 说明 |
|---------|------|
| `1` | 成功 |
| `0` | 失败 |

### 功能描述

清理所有窗口资源并结束事件循环。应用程序退出前应调用此函数，释放所有资源。

### 使用示例

```c
// 清理所有窗口和资源
cleanup_all_windows();
```

## get_window_count

获取当前已创建的窗口数量。

### 函数签名

```c
uint32_t get_window_count();
```

### 返回值说明

返回当前已创建的窗口数量。

### 功能描述

获取当前已创建的窗口数量。

### 使用示例

```c
// 获取窗口数量
uint32_t count = get_window_count();
printf("当前窗口数量：%u\n", count);
```

## get_webview_version

获取 WebView 引擎的版本号。

### 函数签名

```c
int get_webview_version(char* buffer, size_t buffer_size);
```

### 参数说明

| 参数 | 类型 | 说明 |
|------|------|------|
| `buffer` | char* | 存储版本号的缓冲区 |
| `buffer_size` | size_t | 缓冲区大小 |

### 返回值说明

| 返回值 | 说明 |
|---------|------|
| `1` | 成功 |
| `0` | 失败 |

### 功能描述

获取 WebView 引擎的版本号，并将其写入指定的缓冲区。

### 使用示例

```c
// 获取 WebView 版本号
char version[128];
int result = get_webview_version(version, sizeof(version));

if (result == 1) {
    printf("WebView 版本：%s\n", version);
} else {
    printf("获取版本号失败\n");
}
```
