# å¿«é€Ÿå¼€å§‹

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å¿«é€Ÿäº†è§£å¦‚ä½•ä½¿ç”¨ JadeUI Python SDK åˆ›å»ºæ¡Œé¢åº”ç”¨ã€‚

## ç¯å¢ƒè¦æ±‚

- Python 3.8+
- Windows 10+ (å½“å‰ç‰ˆæœ¬)
- WebView2 Runtime

## å®‰è£…

é€šè¿‡ pip å®‰è£… JadeUI Python SDKï¼š

```bash
pip install jadeui
```

## åŸºæœ¬ä½¿ç”¨

### åˆ›å»ºç¬¬ä¸€ä¸ªåº”ç”¨

```python
from jadeui import JadeUIApp, Window

# åˆ›å»ºåº”ç”¨å®ä¾‹ (å•ä¾‹æ¨¡å¼)
app = JadeUIApp()

@app.on_ready
def on_ready():
    # åˆ›å»ºçª—å£
    window = Window(
        title="Hello JadeUI",
        width=800,
        height=600,
        url="https://example.com"
    )
    window.show()

# è¿è¡Œåº”ç”¨
app.run()
```

### ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨

é€šè¿‡ `LocalServer` æ‰˜ç®¡æœ¬åœ° Web å†…å®¹ï¼š

```python
from jadeui import JadeUIApp, Window, LocalServer

app = JadeUIApp()
server = LocalServer()

@app.on_ready
def on_ready():
    # å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œæ‰˜ç®¡ ./web ç›®å½•
    url = server.start("./web", "myapp")
    
    window = Window(
        title="My App",
        width=1024,
        height=768,
        url=f"{url}/index.html"
    )
    window.show()

app.run()
```

### IPC é€šä¿¡

ä½¿ç”¨ `IPCManager` å®ç° Python åç«¯ä¸ Web å‰ç«¯çš„åŒå‘é€šä¿¡ï¼š

```python
from jadeui import JadeUIApp, Window, IPCManager

app = JadeUIApp()
ipc = IPCManager()

# æ³¨å†Œ IPC æ¶ˆæ¯å¤„ç†å™¨
@ipc.on("greet")
def handle_greet(window_id, message):
    print(f"æ”¶åˆ°æ¶ˆæ¯: {message}")
    # å‘é€å“åº”ç»™å‰ç«¯
    ipc.send(window_id, "response", f"Hello from Python! You said: {message}")
    return 1

@app.on_ready
def on_ready():
    window = Window(title="IPC Demo", url="...")
    window.show()

app.run()
```

å‰ç«¯ JavaScript ä»£ç ï¼š

```javascript
// å‘é€æ¶ˆæ¯åˆ° Python
window.jade.ipcSend('greet', 'Hello from JavaScript!');

// æ¥æ”¶ Python çš„å“åº”
window.jade.ipcMain('response', function(content) {
    console.log('æ”¶åˆ°å“åº”:', content);
});
```

### ä½¿ç”¨è·¯ç”±ç³»ç»Ÿ

`Router` æä¾›åç«¯ä¸»å¯¼çš„è·¯ç”±ç³»ç»Ÿï¼Œè‡ªåŠ¨ç”Ÿæˆå¸¦ä¾§è¾¹æ çš„åº”ç”¨æ¡†æ¶ï¼š

```python
from jadeui import JadeUIApp, Router

app = JadeUIApp()
router = Router()

# æ³¨å†Œé¡µé¢è·¯ç”±
router.page("/", "pages/home.html", title="é¦–é¡µ", icon="ğŸ ")
router.page("/settings", "pages/settings.html", title="è®¾ç½®", icon="âš™ï¸")
router.page("/about", "pages/about.html", title="å…³äº", icon="â„¹ï¸")

@app.on_ready
def on_ready():
    # æŒ‚è½½è·¯ç”±å™¨ï¼Œåˆ›å»ºçª—å£
    router.mount(
        title="My App",
        web_dir="web",
        width=1200,
        height=800,
        theme="system"
    )

app.run()
```

## çª—å£é…ç½®é€‰é¡¹

`Window` ç±»æ”¯æŒä¸°å¯Œçš„é…ç½®é€‰é¡¹ï¼š

```python
from jadeui import Window, Theme, Backdrop, RGBA

window = Window(
    title="é…ç½®ç¤ºä¾‹",
    width=1024,
    height=768,
    url="https://example.com",
    
    # çª—å£å±æ€§
    resizable=True,           # å…è®¸è°ƒæ•´å¤§å°
    remove_titlebar=False,    # ç§»é™¤åŸç”Ÿæ ‡é¢˜æ 
    transparent=False,        # å¯ç”¨é€æ˜
    always_on_top=False,      # çª—å£ç½®é¡¶
    
    # ä¸»é¢˜
    theme=Theme.SYSTEM,       # Light, Dark, System
    
    # ä½ç½®å’Œå¤§å°é™åˆ¶
    x=-1, y=-1,               # å±…ä¸­æ˜¾ç¤º (-1 è¡¨ç¤ºå±…ä¸­)
    min_width=400,
    min_height=300,
    max_width=0,              # 0 è¡¨ç¤ºæ— é™åˆ¶
    max_height=0,
    
    # åˆå§‹çŠ¶æ€
    maximized=False,
    fullscreen=False,
    focus=True,
    hide_window=False,
    
    # çª—å£æ§åˆ¶
    maximizable=True,
    minimizable=True,
    
    # èƒŒæ™¯é¢œè‰²
    background_color=RGBA(255, 255, 255, 255),
    
    # WebView è®¾ç½®
    autoplay=False,           # å…è®¸è‡ªåŠ¨æ’­æ”¾åª’ä½“
    disable_right_click=False,
    user_agent=None,          # è‡ªå®šä¹‰ User-Agent
    preload_js=None,          # é¢„åŠ è½½ JavaScript
)
```

## äº‹ä»¶å¤„ç†

### åº”ç”¨äº‹ä»¶

```python
@app.on_ready
def on_ready():
    print("åº”ç”¨å·²å°±ç»ª")

@app.on_window_all_closed
def on_all_closed():
    print("æ‰€æœ‰çª—å£å·²å…³é—­")
```

### çª—å£äº‹ä»¶

```python
window = Window(title="Event Demo")

@window.on("created")
def on_created(win):
    print("çª—å£å·²åˆ›å»º")

@window.on("closed")
def on_closed():
    print("çª—å£å·²å…³é—­")

@window.on("page-loaded")
def on_page_loaded(url, status):
    print(f"é¡µé¢å·²åŠ è½½: {url}")

@window.on("file-drop")
def on_file_drop(path, mime_type, x, y):
    print(f"æ–‡ä»¶æ‹–æ”¾: {path}")

window.show()
```

## çª—å£æ“ä½œ

```python
window = Window(title="My App")
window.show()

# çª—å£çŠ¶æ€æ§åˆ¶
window.minimize()           # æœ€å°åŒ–
window.maximize()           # æœ€å¤§åŒ–/è¿˜åŸ
window.set_fullscreen(True) # å…¨å±
window.focus()              # è·å–ç„¦ç‚¹
window.hide()               # éšè—
window.close()              # å…³é—­

# å±æ€§è®¾ç½®
window.set_title("New Title")
window.set_size(1280, 720)
window.set_position(100, 100)
window.center()
window.set_always_on_top(True)
window.set_resizable(False)

# ä¸»é¢˜å’Œå¤–è§‚
window.set_theme(Theme.DARK)
window.set_backdrop(Backdrop.MICA)  # Windows 11 æ•ˆæœ

# WebView æ“ä½œ
window.load_url("https://example.com")
window.execute_js("console.log('Hello from Python!')")
```

## å®Œæ•´ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¤ºä¾‹ï¼š

```python
from jadeui import JadeUIApp, Window, IPCManager, LocalServer
import json

app = JadeUIApp()
ipc = IPCManager()
server = LocalServer()

@ipc.on("get-data")
def handle_get_data(window_id, message):
    data = json.loads(message)
    print(f"è¯·æ±‚æ•°æ®: {data}")
    
    response = {
        "status": "success",
        "items": ["Python", "JadeUI", "WebView"]
    }
    ipc.send(window_id, "data-response", json.dumps(response))
    return 1

@app.on_ready
def on_ready():
    # å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
    url = server.start("./web", "demo")
    
    # åˆ›å»ºçª—å£
    window = Window(
        title="JadeUI Demo",
        width=1024,
        height=768,
        url=f"{url}/index.html",
        resizable=True,
    )
    
    @window.on("closed")
    def on_closed():
        print("çª—å£å·²å…³é—­")
    
    window.show()

if __name__ == "__main__":
    app.run()
```

## ä¸‹ä¸€æ­¥

- æŸ¥çœ‹ [API å‚è€ƒ](./reference/methods.mdx) äº†è§£è¯¦ç»†çš„ API æ–‡æ¡£
- æ¢ç´¢ `Router` ç±»æ„å»ºå¤æ‚çš„å¤šé¡µé¢åº”ç”¨
- å­¦ä¹ ä½¿ç”¨ Windows 11 çš„ Mica/Acrylic æ•ˆæœ
